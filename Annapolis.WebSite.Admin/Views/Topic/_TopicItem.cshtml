@using Annapolis.WebSite.Admin.Extensions
@model Annapolis.WebSite.Admin.ViewModels.TopicViewModel

<div id=@(Model.Topic.Id+ "_topic")>
    @using (Ajax.BeginForm("TopicItem", "Topic", new AjaxOptions { UpdateTargetId = Model.Topic.Id + "_topic", HttpMethod = "POST" }))
    {
        <div class="panel panel-default">
            @Html.HiddenFor(modelItem => Model.Topic.Id)
            <div class="panel-heading">
                <div class="panel-title"><a data-toggle="collapse" href='#collapseItem_@Model.Topic.Id'>@Html.DisplayFor(modelItem => Model.Topic.Title)</a></div>
                <div class="panel-title">@Html.DisplayFor(modelItem => Model.Topic.SubTitle)</div>        
            </div>
            <div id="collapseItem_@Model.Topic.Id"  class="panel-collapse collapse in">
                <div class="panel-body">@Html.Raw(Model.Post.Content)</div>  
            </div>
            @Html.DisplayNameFor(modelItem => Model.Topic.IsSticky)
            @Html.EditorFor(modelItem => Model.Topic.IsSticky)  &nbsp|&nbsp
            @Html.DisplayNameFor(modelItem => Model.Topic.IsLocked)
            @Html.EditorFor(modelItem => Model.Topic.IsLocked) &nbsp|&nbsp
            @Html.DisplayNameFor(modelItem => Model.Topic.IsHidden)
            @Html.EditorFor(modelItem => Model.Topic.IsHidden) &nbsp|&nbsp
            @Html.AdminActionLink(Model.Topic.MemberUser.UserName, "Details", "MemberUser", new { Id = Model.Topic.MemberUser.Id}, null ) &nbsp|&nbsp
            <input type="submit" value="Save" />&nbsp|&nbsp
            @Html.AdminActionLink("Edit", "Edit", new { id=Model.Topic.Id }) |
            @Html.AdminActionLink("Details", "Details", new { id=Model.Topic.Id }) |
            @Html.AdminActionLink("Delete", "Delete", new { id=Model.Topic.Id })
        </div>
    }
    <br />
</div>